<!-- DO NOT EDIT THIS FILE.

This file is periodically generated from the content in the `/src/`
directory, so all fixes need to be made in `/src/`.
-->

[TOC]

## 附錄 B：運算子與符號

本附錄包含 Rust 語法的詞彙表，其中包括運算子以及單獨出現或在 paths、generics、trait bounds、macros、attributes、comments、tuples 和 brackets 等上下文脈絡中出現的其他符號。

## 運算子

表 B-1 包含了 Rust 中的運算子、該運算子在上下文中的範例、簡短的解釋，以及該運算子是否可 overloadable。如果一個運算子是可 overloadable 的，則列出了用於 overload 該運算子的相關 trait。

表 B-1：運算子

| 運算子 | 範例                                             | 解釋                                          | 可 overloadable？ |
| ------ | ------------------------------------------------ | --------------------------------------------- | ----------------- |
| `!`    | `ident!(...)`, `ident!{...}`, `ident![...]`      | Macro 擴展                                    |                   |
| `!`    | `!expr`                                          | 位元或邏輯補數                                | `Not`             |
| `!=`   | `expr != expr`                                   | 不相等比較                                    | `PartialEq`       |
| `%`    | `expr % expr`                                    | 算術餘數                                      | `Rem`             |
| `%=`   | `var %= expr`                                    | 算術餘數與賦值                                | `RemAssign`       |
| `&`    | `&expr`, `&mut expr`                             | Borrow                                        |                   |
| `&`    | `&type`, `&mut type`, `&'a type`, `&'a mut type` | Borrowed 指標型別                             |                   |
| `&`    | `expr & expr`                                    | 位元 AND                                      | `BitAnd`          |
| `&=`   | `var &= expr`                                    | 位元 AND 與賦值                               | `BitAndAssign`    |
| `&&`   | `expr && expr`                                   | 短路邏輯 AND                                  |                   |
| `*`    | `expr * expr`                                    | 算術乘法                                      | `Mul`             |
| `*=`   | `var *= expr`                                    | 算術乘法與賦值                                | `MulAssign`       |
| `*`    | `*expr`                                          | Dereference                                   | `Deref`           |
| `*`    | `*const type`, `*mut type`                       | 原始指標                                      |                   |
| `+`    | `trait + trait`, `'a + trait`                    | 複合型別約束                                  |                   |
| `+`    | `expr + expr`                                    | 算術加法                                      | `Add`             |
| `+=`   | `var += expr`                                    | 算術加法與賦值                                | `AddAssign`       |
| `,`    | `expr, expr`                                     | 引數與元素分隔符                              |                   |
| `-`    | `- expr`                                         | 算術取反                                      | `Neg`             |
| `-`    | `expr - expr`                                    | 算術減法                                      | `Sub`             |
| `-=`   | `var -= expr`                                    | 算術減法與賦值                                | `SubAssign`       |
| `->`   | `fn(...) -> type`, `                             | ...                                           | -> type`          |
| `.`    | `expr.ident`                                     | 欄位存取                                      |                   |
| `.`    | `expr.ident(expr, ...)`                          | 方法呼叫                                      |                   |
| `.`    | `expr.0`, `expr.1`, etc.                         | Tuple 索引                                    |                   |
| `..`   | `..`, `expr..`, `..expr`, `expr..expr`           | 右側排他區間文字                              | `PartialOrd`      |
| `..=`  | `..=expr`, `expr..=expr`                         | 右側包含區間文字                              | `PartialOrd`      |
| `..`   | `..expr`                                         | Struct literal 更新語法                       |                   |
| `..`   | `variant(x, ..)`, `struct_type { x, .. }`        | 「其餘」模式綁定                              |                   |
| `...`  | `expr...expr`                                    | (已棄用，請改用 `..=`) 在模式中：包含區間模式 |                   |
| `/`    | `expr / expr`                                    | 算術除法                                      | `Div`             |
| `/=`   | `var /= expr`                                    | 算術除法與賦值                                | `DivAssign`       |
| `:`    | `pat: type`, `ident: type`                       | 約束                                          |                   |
| `:`    | `ident: expr`                                    | Struct 欄位初始化器                           |                   |
| `:`    | `'a: loop {...}`                                 | 迴圈標籤                                      |                   |
| `;`    | `expr;`                                          | 語句與項目終止符                              |                   |
| `;`    | `[...; len]`                                     | 固定大小陣列語法的一部分                      |                   |
| `<<`   | `expr << expr`                                   | 左移                                          | `Shl`             |
| `<<=`  | `var <<= expr`                                   | 左移與賦值                                    | `ShlAssign`       |
| `<`    | `expr < expr`                                    | 小於比較                                      | `PartialOrd`      |
| `<=`   | `expr <= expr`                                   | 小於或等於比較                                | `PartialOrd`      |
| `=`    | `var = expr`, `ident = type`                     | 賦值/等價                                     |                   |
| `==`   | `expr == expr`                                   | 相等比較                                      | `PartialEq`       |
| `=>`   | `pat => expr`                                    | Match 分支語法的一部分                        |                   |
| `>`    | `expr > expr`                                    | 大於比較                                      | `PartialOrd`      |
| `>=`   | `expr >= expr`                                   | 大於或等於比較                                | `PartialOrd`      |
| `>>`   | `expr >> expr`                                   | 右移                                          | `Shr`             |
| `>>=`  | `var >>= expr`                                   | 右移與賦值                                    | `ShrAssign`       |
| `@`    | `ident @ pat`                                    | 模式綁定                                      |                   |
| `^`    | `expr ^ expr`                                    | 位元互斥 OR                                   | `BitXor`          |
| `^=`   | `var ^= expr`                                    | 位元互斥 OR 與賦值                            | `BitXorAssign`    |
| `      | `                                                | `pat                                          | pat`              |
| `      | `                                                | `expr                                         | expr`             |
| `      | =`                                               | `var                                          | = expr`           |
| `      |                                                  | `                                             | `expr             |
| `?`    | `expr?`                                          | 錯誤傳播                                      |                   |

## 非運算子符號

以下表格包含所有不作為運算子使用的符號；也就是說，它們的行為不像函式或方法呼叫。

表 B-2 顯示了單獨出現並可在多種位置有效的符號。

表 B-2：獨立語法

| 符號                                                                  | 解釋                                           |
| --------------------------------------------------------------------- | ---------------------------------------------- |
| `'ident`                                                              | 命名 lifetime 或迴圈標籤                       |
| Digits immediately followed by `u8`, `i32`, `f64`, `usize`, and so on | 特定型別的數字文字                             |
| `"..."`                                                               | 字串文字                                       |
| `r"..."`, `r#"..."#`, `r##"..."##`, and so on                         | 原始字串文字；不處理跳脫字元                   |
| `b"..."`                                                              | 位元組字串文字；建構位元組陣列而非字串         |
| `br"..."`, `br#"..."#`, `br##"..."##`, and so on                      | 原始位元組字串文字；原始與位元組字串文字的組合 |
| `'...'`                                                               | 字元文字                                       |
| `b'...'`                                                              | ASCII 位元組文字                               |
| `                                                                     | ...                                            |
| `!`                                                                   | 發散函式的永遠為空的 bottom type               |
| `_`                                                                   | 「忽略的」模式綁定；也用於讓整數文字更易讀     |

表 B-3 顯示了在透過模組層級結構到某個項目的 path 上下文中出現的符號。

表 B-3：Path 相關語法

| 符號                                    | 解釋                                                              |
| --------------------------------------- | ----------------------------------------------------------------- |
| `ident::ident`                          | 命名空間 path                                                     |
| `::path`                                | 相對於 crate 根的 path (也就是，明確的絕對 path)                  |
| `self::path`                            | 相對於當前模組的 path (也就是，明確的相對 path)                   |
| `super::path`                           | 相對於當前模組父級的 path                                         |
| `type::ident`, `<type as trait>::ident` | 關聯常數、函式和型別                                              |
| `<type>::...`                           | 無法直接命名的型別的關聯項目 (例如，`<&T>::...`、`<[T]>::...` 等) |
| `trait::method(...)`                    | 透過命名定義方法的 trait 來消除方法呼叫的歧義                     |
| `type::method(...)`                     | 透過命名定義方法的型別來消除方法呼叫的歧義                        |
| `<type as trait>::method(...)`          | 透過命名 trait 和型別來消除方法呼叫的歧義                         |

表 B-4 顯示了在使用 generic 型別參數的上下文脈絡中出現的符號。

表 B-4：Generics

| 符號                         | 解釋                                                                                            |
| ---------------------------- | ----------------------------------------------------------------------------------------------- |
| `path<...>`                  | 在型別中指定 generic 型別的參數 (例如，`Vec<u8>`)                                               |
| `path::<...>, method::<...>` | 在表達式中指定 generic 型別、函式或方法的參數；通常稱為 turbofish (例如，`"42".parse::<i32>()`) |
| `fn ident<...> ...`          | 定義 generic 函式                                                                               |
| `struct ident<...> ...`      | 定義 generic struct                                                                             |
| `enum ident<...> ...`        | 定義 generic enum                                                                               |
| `impl<...> ...`              | 定義 generic implementation                                                                     |
| `for<...> type`              | 更高階的 lifetime 界限                                                                          |
| `type<ident=type>`           | 一個 generic 型別，其中一個或多個關聯型別具有特定的賦值 (例如，`Iterator<Item=T>`)              |

表 B-5 顯示了在使用 trait bounds 約束 generic 型別參數的上下文脈絡中出現的符號。

表 B-5：Trait Bound 約束

| 符號                          | 解釋                                                                                                      |
| ----------------------------- | --------------------------------------------------------------------------------------------------------- |
| `T: U`                        | Generic 參數 `T` 被約束為實作 `U` 的型別                                                                  |
| `T: 'a`                       | Generic 型別 `T` 必須比 lifetime `'a` 存活更久 (這表示該型別不能遞移地包含任何 lifetime 短於 `'a` 的參考) |
| `T: 'static`                  | Generic 型別 `T` 不包含除了 `'static` 參考之外的任何 borrowed 參考                                        |
| `'b: 'a`                      | Generic lifetime `'b` 必須比 lifetime `'a` 存活更久                                                       |
| `T: ?Sized`                   | 允許 generic 型別參數是動態大小的型別                                                                     |
| `'a + trait`, `trait + trait` | 複合型別約束                                                                                              |

表 B-6 顯示了在呼叫或定義 macros 以及在項目上指定 attributes 的上下文脈絡中出現的符號。

表 B-6：Macros 與 Attributes

| 符號                                        | 解釋           |
| ------------------------------------------- | -------------- |
| `#[meta]`                                   | 外部 attribute |
| `#![meta]`                                  | 內部 attribute |
| `$ident`                                    | Macro 替換     |
| `$ident:kind`                               | Macro 中繼變數 |
| `$(...)...`                                 | Macro 重複     |
| `ident!(...)`, `ident!{...}`, `ident![...]` | Macro 呼叫     |

表 B-7 顯示了用於建立註解的符號。

表 B-7：註解

| 符號       | 解釋             |
| ---------- | ---------------- |
| `//`       | 單行註解         |
| `//!`      | 內部單行文件註解 |
| `///`      | 外部單行文件註解 |
| `/*...*/`  | 區塊註解         |
| `/*!...*/` | 內部區塊文件註解 |
| `/**...*/` | 外部區塊文件註解 |

表 B-8 顯示了使用圓括號的上下文脈絡。

表 B-8：圓括號

| 上下文            | 解釋                                                             |
| ----------------- | ---------------------------------------------------------------- |
| `()`              | 空 tuple (又稱 unit)，同時是文字和型別                           |
| `(expr)`          | 括號表達式                                                       |
| `(expr,)`         | 單元素 tuple 表達式                                              |
| `(type,)`         | 單元素 tuple 型別                                                |
| `(expr, ...)`     | Tuple 表達式                                                     |
| `(type, ...)`     | Tuple 型別                                                       |
| `expr(expr, ...)` | 函式呼叫表達式；也用於初始化 tuple `struct` 和 tuple `enum` 變體 |

表 B-9 顯示了使用大括號的上下文脈絡。

表 B-9：大括號

| 上下文       | 解釋        |
| ------------ | ----------- |
| `{...}`      | 區塊表達式  |
| `Type {...}` | Struct 文字 |

表 B-10 顯示了使用方括號的上下文脈絡。

表 B-10：方括號

| 上下文                                             | 解釋                                                                                         |
| -------------------------------------------------- | -------------------------------------------------------------------------------------------- |
| `[...]`                                            | 陣列文字                                                                                     |
| `[expr; len]`                                      | 包含 `len` 個 `expr` 副本的陣列文字                                                          |
| `[type; len]`                                      | 包含 `len` 個 `type` 實例的陣列型別                                                          |
| `expr[expr]`                                       | 集合索引；可 overloadable (`Index`、`IndexMut`)                                              |
| `expr[..]`, `expr[a..]`, `expr[..b]`, `expr[a..b]` | 集合索引假裝為集合 slicing，使用 `Range`、`RangeFrom`、`RangeTo` 或 `RangeFull` 作為「索引」 |
