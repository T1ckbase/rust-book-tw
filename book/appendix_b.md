<!--
DO NOT EDIT THIS FILE.

This file is periodically generated from the content in the `/src/`
directory, so all fixes need to be made in `/src/`.
-->

[TOC]

## 附錄 B：運算子與符號

本附錄包含了 Rust 語法的詞彙表，包括運算子以及其他獨立出現或在路徑、泛型、trait 界限、巨集、屬性、註解、tuple 和括號等上下文中出現的符號。

## 運算子

表格 B-1 包含了 Rust 中的運算子、運算子在上下文中的範例、簡短說明，以及該運算子是否可重載。若運算子可重載，則會列出用於重載該運算子的相關 trait。

表格 B-1：運算子

| 運算子 | 範例                                             | 說明                                         | 可否重載？     |
| ------ | ------------------------------------------------ | -------------------------------------------- | -------------- |
| `!`    | `ident!(...)`、`ident!{...}`、`ident![...]`      | 巨集擴充                                     |                |
| `!`    | `!expr`                                          | 位元或邏輯補數                               | `Not`          |
| `!=`   | `expr != expr`                                   | 非相等比較                                   | `PartialEq`    |
| `%`    | `expr % expr`                                    | 算術餘數                                     | `Rem`          |
| `%=`   | `var %= expr`                                    | 算術餘數並賦值                               | `RemAssign`    |
| `&`    | `&expr`, `&mut expr`                             | 借用                                         |                |
| `&`    | `&type`, `&mut type`, `&'a type`, `&'a mut type` | 借用指標型別                                 |                |
| `&`    | `expr & expr`                                    | 位元 AND                                     | `BitAnd`       |
| `&=`   | `var &= expr`                                    | 位元 AND 並賦值                              | `BitAndAssign` |
| `&&`   | `expr && expr`                                   | 短路邏輯 AND                                 |                |
| `*`    | `expr * expr`                                    | 算術乘法                                     | `Mul`          |
| `*=`   | `var *= expr`                                    | 算術乘法並賦值                               | `MulAssign`    |
| `*`    | `*expr`                                          | 解參考                                       | `Deref`        |
| `*`    | `*const type`, `*mut type`                       | 原始指標                                     |                |
| `+`    | `trait + trait`, `'a + trait`                    | 複合型別約束                                 |                |
| `+`    | `expr + expr`                                    | 算術加法                                     | `Add`          |
| `+=`   | `var += expr`                                    | 算術加法並賦值                               | `AddAssign`    |
| `,`    | `expr, expr`                                     | 引數與元素分隔符                             |                |
| `-`    | `- expr`                                         | 算術負號                                     | `Neg`          |
| `-`    | `expr - expr`                                    | 算術減法                                     | `Sub`          |
| `-=`   | `var -= expr`                                    | 算術減法並賦值                               | `SubAssign`    |
| `->`   | `fn(...) -> type`, `                             | ...                                          | -> type`       |
| `.`    | `expr.ident`                                     | 欄位存取                                     |                |
| `.`    | `expr.ident(expr, ...)`                          | 方法呼叫                                     |                |
| `.`    | `expr.0`, `expr.1`, etc.                         | Tuple 索引                                   |                |
| `..`   | `..`, `expr..`, `..expr`, `expr..expr`           | 右側不包含的範圍字面值                       | `PartialOrd`   |
| `..=`  | `..=expr`, `expr..=expr`                         | 右側包含的範圍字面值                         | `PartialOrd`   |
| `..`   | `..expr`                                         | `struct` 字面值更新語法                      |                |
| `..`   | `variant(x, ..)`, `struct_type { x, .. }`        | 「其餘部分」的模式繫結                       |                |
| `...`  | `expr...expr`                                    | （已棄用，改用 `..=`）在模式中：包含範圍模式 |                |
| `/`    | `expr / expr`                                    | 算術除法                                     | `Div`          |
| `/=`   | `var /= expr`                                    | 算術除法並賦值                               | `DivAssign`    |
| `:     | `pat: type`, `ident: type`                       | 約束                                         |                |
| `:`    | `ident: expr`                                    | `struct` 欄位初始化器                        |                |
| `:`    | `'a: loop {...}`                                 | 迴圈標籤                                     |                |
| `;`    | `expr;`                                          | 陳述式與項目的終止符                         |                |
| `;`    | `[...; len]`                                     | 固定大小陣列語法的一部分                     |                |
| `<<`   | `expr << expr`                                   | 左移                                         | `Shl`          |
| `<<=`  | `var <<= expr`                                   | 左移並賦值                                   | `ShlAssign`    |
| `<`    | `expr < expr`                                    | 小於比較                                     | `PartialOrd`   |
| `<=`   | `expr <= expr`                                   | 小於或等於比較                               | `PartialOrd`   |
| `=`    | `var = expr`, `ident = type`                     | 賦值／等價                                   |                |
| `==`   | `expr == expr`                                   | 相等比較                                     | `PartialEq`    |
| `=>`   | `pat => expr`                                    | `match` 分支語法的一部分                     |                |
| `>`    | `expr > expr`                                    | 大於比較                                     | `PartialOrd`   |
| `>=`   | `expr >= expr`                                   | 大於或等於比較                               | `PartialOrd`   |
| `>>`   | `expr >> expr`                                   | 右移                                         | `Shr`          |
| `>>=`  | `var >>= expr`                                   | 右移並賦值                                   | `ShrAssign`    |
| `@`    | `ident @ pat`                                    | 模式繫結                                     |                |
| `^`    | `expr ^ expr`                                    | 位元互斥 OR                                  | `BitXor`       |
| `^=`   | `var ^= expr`                                    | 位元互斥 OR 並賦值                           | `BitXorAssign` |
| `      | `                                                | `pat                                         | pat`           |
| `      | `                                                | `expr                                        | expr`          |
| `      | =`                                               | `var                                         | = expr`        |
| `      |                                                  | `                                            | `expr          |
| `?`    | `expr?`                                          | 錯誤傳播                                     |                |

## 非運算子符號

以下表格包含了所有不作為運算子的符號；也就是說，它們的行為不像函式或方法呼叫。

表格 B-2 顯示了獨立出現且在多種位置有效的符號。

表格 B-2：獨立語法

| 符號                                        | 說明                                               |
| ------------------------------------------- | -------------------------------------------------- |
| `'ident`                                    | 具名 `lifetime` 或迴圈標籤                         |
| 緊接著 `u8`、`i32`、`f64`、`usize` 等的數字 | 特定型別的數值字面值                               |
| `"..."`                                     | 字串字面值                                         |
| `r"..."`, `r#"..."#`, `r##"..."##`, 等等    | 原始字串字面值；不處理跳脫字元                     |
| `b"..."`                                    | 位元組字串字面值；建構位元組陣列而非字串           |
| `br"..."`, `br#"..."#`, `br##"..."##`, 等等 | 原始位元組字串字面值；原始與位元組字串字面值的組合 |
| `'...'`                                     | 字元字面值                                         |
| `b'...'`                                    | ASCII 位元組字面值                                 |
| `                                           | ...                                                |
| `!`                                         | 用於發散函式的永不回傳的 bottom type               |
| `_`                                         | 「忽略」的模式繫結；也用於讓整數字面值更易讀       |

表格 B-3 顯示了在模組層級中指向某個項目的路徑上下文中出現的符號。

表格 B-3：路徑相關語法

| 符號                                    | 說明                                                              |
| --------------------------------------- | ----------------------------------------------------------------- |
| `ident::ident`                          | 命名空間路徑                                                      |
| `::path`                                | 相對於 `crate` 根目錄的路徑（即明確的絕對路徑）                   |
| `self::path`                            | 相對於當前模組的路徑（即明確的相對路徑）                          |
| `super::path`                           | 相對於當前模組父模組的路徑                                        |
| `type::ident`, `<type as trait>::ident` | 關聯常數、函式與型別                                              |
| `<type>::...`                           | 無法直接命名的型別的關聯項目（例如 `<&T>::...`、`<[T]>::...` 等） |
| `trait::method(...)`                    | 透過指定定義方法的 `trait` 來消除方法呼叫的歧義                   |
| `type::method(...)`                     | 透過指定定義方法的型別來消除方法呼叫的歧義                        |
| `<type as trait>::method(...)`          | 透過指定 `trait` 與型別來消除方法呼叫的歧義                       |

表格 B-4 顯示了在使用泛型型別參數的上下文中出現的符號。

表格 B-4：泛型

| 符號                         | 說明                                                                                       |
| ---------------------------- | ------------------------------------------------------------------------------------------ |
| `path<...>`                  | 在型別中為泛型型別指定參數（例如 `Vec<u8>`）                                               |
| `path::<...>, method::<...>` | 在表達式中為泛型型別、函式或方法指定參數；常被稱為 turbofish（例如 `"42".parse::<i32>()`） |
| `fn ident<...> ...`          | 定義泛型函式                                                                               |
| `struct ident<...> ...`      | 定義泛型結構                                                                               |
| `enum ident<...> ...`        | 定義泛型列舉                                                                               |
| `impl<...> ...`              | 定義泛型實作                                                                               |
| `for<...> type`              | 高階 `lifetime` 界限                                                                       |
| `type<ident=type>`           | 一個泛型型別，其中一個或多個關聯型別有具體的指派（例如 `Iterator<Item=T>`）                |

表格 B-5 顯示了在用 trait 界限約束泛型型別參數的上下文中出現的符號。

表格 B-5：Trait 界限約束

| 符號                          | 說明                                                                                                          |
| ----------------------------- | ------------------------------------------------------------------------------------------------------------- |
| `T: U`                        | 泛型參數 `T` 被約束為實作 `U` 的型別                                                                          |
| `T: 'a`                       | 泛型型別 `T` 的存活時間必須超過 `lifetime` `'a`（意味著該型別不能遞移地包含任何 `lifetime` 比 `'a` 短的參考） |
| `T: 'static`                  | 泛型型別 `T` 除了 `'static` 參考外，不包含任何借用的參考                                                      |
| `'b: 'a`                      | 泛型 `lifetime` `'b` 的存活時間必須超過 `lifetime` `'a`                                                       |
| `T: ?Sized`                   | 允許泛型型別參數為動態大小的型別                                                                              |
| `'a + trait`, `trait + trait` | 複合型別約束                                                                                                  |

表格 B-6 顯示了在呼叫或定義巨集以及為項目指定屬性的上下文中出現的符號。

表格 B-6：巨集與屬性

| 符號                                        | 說明         |
| ------------------------------------------- | ------------ |
| `#[meta]`                                   | 外部屬性     |
| `#![meta]`                                  | 內部屬性     |
| `$ident`                                    | 巨集替換     |
| `$ident:kind`                               | 巨集中繼變數 |
| `$(...)...`                                 | 巨集重複     |
| `ident!(...)`, `ident!{...}`, `ident![...]` | 巨集呼叫     |

表格 B-7 顯示了建立註解的符號。

表格 B-7：註解

| 符號       | 說明             |
| ---------- | ---------------- |
| `//`       | 行註解           |
| `//!`      | 內部文件行註解   |
| `///`      | 外部文件行註解   |
| `/*...*/`  | 區塊註解         |
| `/*!...*/` | 內部文件區塊註解 |
| `/**...*/` | 外部文件區塊註解 |

表格 B-8 顯示了使用括號的上下文。

表格 B-8：括號

| 符號              | 說明                                                               |
| ----------------- | ------------------------------------------------------------------ |
| `()`              | 空 tuple（也稱為 unit），同時是字面值與型別                        |
| `(expr)`          | 置於括號中的表達式                                                 |
| `(expr,)`         | 單一元素的 tuple 表達式                                            |
| `(type,)`         | 單一元素的 tuple 型別                                              |
| `(expr, ...)`     | Tuple 表達式                                                       |
| `(type, ...)`     | Tuple 型別                                                         |
| `expr(expr, ...)` | 函式呼叫表達式；也用於初始化 tuple `struct` 與 tuple `enum` 的變體 |

表格 B-9 顯示了使用大括號的上下文。

表格 B-9：大括號

| 上下文       | 說明            |
| ------------ | --------------- |
| `{...}`      | 區塊表達式      |
| `Type {...}` | `struct` 字面值 |

表格 B-10 顯示了使用方括號的上下文。

表格 B-10：方括號

| 上下文                                             | 說明                                                                                     |
| -------------------------------------------------- | ---------------------------------------------------------------------------------------- |
| `[...]`                                            | 陣列字面值                                                                               |
| `[expr; len]`                                      | 包含 `len` 個 `expr` 複本的陣列字面值                                                    |
| `[type; len]`                                      | 包含 `len` 個 `type` 實體的陣列型別                                                      |
| `expr[expr]`                                       | 集合索引；可重載（`Index`、`IndexMut`）                                                  |
| `expr[..]`, `expr[a..]`, `expr[..b]`, `expr[a..b]` | 集合索引，模擬集合切片，使用 `Range`、`RangeFrom`、`RangeTo` 或 `RangeFull` 作為「索引」 |
