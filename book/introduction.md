[TOC]

# 前言

歡迎閱讀《The Rust Programming Language》，這是一本關於 Rust 的入門書籍。
Rust 程式語言能幫助你寫出更快、更可靠的軟體。
在程式語言的設計中，高階的易用性與低階的控制能力經常是互相矛盾的；Rust 挑戰了這個衝突。透過平衡強大的技術能力和優異的開發者體驗，Rust 讓你能夠選擇控制低階的細節（例如記憶體使用），而無需承受傳統上伴隨這類控制而來的麻煩。

## Rust 適合誰

基於各種原因，Rust 對許多人來說都是理想的選擇。讓我們來看看幾個最重要的群體。

### 開發者團隊

Rust 正在證明自己是一個高效的工具，能夠讓擁有不同系統程式設計知識程度的大型開發者團隊協同合作。低階程式碼容易出現各種細微的錯誤，在大多數其他語言中，這些錯誤只能透過大量的測試和經驗豐富的開發者仔細的程式碼審查才能發現。在 Rust 中，編譯器扮演著守門員的角色，它會拒絕編譯那些帶有難以捉摸的錯誤（包括並行性錯誤）的程式碼。透過與編譯器協作，團隊可以將時間專注於程式的邏輯，而不是追查錯誤。

Rust 也為系統程式設計領域帶來了現代化的開發者工具：

- `Cargo`，內建的依賴管理器和建構工具，讓新增、編譯和管理依賴項變得輕鬆且在整個 Rust 生態系中保持一致。
- `Rustfmt` 格式化工具確保開發者之間擁有一致的程式碼風格。
- `Rust Language Server` 驅動了整合式開發環境（IDE）的整合，提供程式碼自動完成和行內錯誤訊息。

透過使用這些以及 Rust 生態系中的其他工具，開發者在撰寫系統級程式碼時也能保持高生產力。

### 學生

Rust 適合學生以及那些對學習系統概念感興趣的人。透過使用 Rust，許多人學會了作業系統開發等主題。社群非常歡迎並樂於回答學生的問題。透過本書等努力，Rust 團隊希望讓更多人，特別是程式設計新手，能夠更容易地接觸到系統概念。

### 公司

數百家公司，無論大小，都在生產環境中使用 Rust 來執行各種任務，包括命令列工具、Web 服務、DevOps 工具、嵌入式裝置、音訊和視訊分析與轉碼、加密貨幣、生物資訊學、搜尋引擎、物聯網應用、機器學習，甚至是 Firefox 網頁瀏覽器的主要部分。

### 開源開發者

Rust 適合那些想要建構 Rust 程式語言、社群、開發者工具和函式庫的人。我們非常希望您能為 Rust 語言做出貢獻。

### 重視速度和穩定性的人

Rust 適合那些渴望語言兼具速度和穩定性的人。所謂速度，我們指的是 Rust 程式碼的執行速度以及 Rust 讓您撰寫程式的速度。Rust 編譯器的檢查透過功能新增和重構確保了穩定性。這與那些沒有這些檢查的語言中脆弱的舊有程式碼形成對比，開發者通常害怕修改這些程式碼。透過追求零成本抽象化，也就是將高階功能編譯成與手寫低階程式碼一樣快的程式碼，Rust 致力於讓安全的程式碼也同時是快速的程式碼。

Rust 語言也希望能支援許多其他使用者；這裡提到的只是其中一些最大的利害關係人。總體而言，Rust 最大的抱負是透過提供安全性*與*生產力、速度*與*易用性，來消除程式設計師數十年來所接受的權衡。試試 Rust，看看它的選擇是否適合您。

## 本書適合誰

本書假設您曾用另一種程式語言寫過程式碼，但並不對具體是哪一種語言做任何假設。我們試圖讓內容能廣泛地被來自各種程式設計背景的人所接受。我們不會花太多時間討論什麼是程式設計或如何思考它。如果您是程式設計的全新手，閱讀一本專門介紹程式設計的書會更適合您。

## 如何使用本書

一般來說，本書假設您會從頭到尾按順序閱讀。後面的章節會建立在前面章節的概念之上，而前面的章節可能不會深入探討某個主題的細節，但會在後面的章節中再次討論。

您會在本書中找到兩種章節：概念章節和專案章節。在概念章節中，您將學習 Rust 的某個方面。在專案章節中，我們將一起建構小型程式，應用您目前所學的知識。第 2、12 和 20 章是專案章節；其餘的都是概念章節。

第 1 章解釋如何安裝 Rust、如何撰寫「Hello, world!」程式，以及如何使用 Cargo——Rust 的套件管理器和建構工具。第 2 章是一個實作入門，讓您建構一個猜數字遊戲。在這裡，我們將從較高的層次涵蓋概念，後面的章節會提供更多細節。如果您想馬上動手，第 2 章就是個好地方。第 3 章涵蓋了與其他程式語言相似的 Rust 功能，在第 4 章中您將學習 Rust 的 ownership 系統。如果您是一個特別嚴謹的學習者，喜歡在進入下一個主題前學習所有細節，您可能會想跳過第 2 章，直接進入第 3 章，等到您想做一個專案來應用所學細節時再回來看第 2 章。

第 5 章討論 structs 和 methods，第 6 章涵蓋 enums、`match` 表達式和 `if let` 控制流程結構。您將使用 structs 和 enums 在 Rust 中製作自訂型別。

在第 7 章，您將學習 Rust 的模組系統以及組織程式碼及其公開應用程式介面（API）的隱私規則。第 8 章討論了標準函式庫提供的一些常見集合資料結構，例如 vector、string 和 hash map。第 9 章探討了 Rust 的錯誤處理哲學和技巧。

第 10 章深入探討 generics、traits 和 lifetimes，它們賦予您定義適用於多種型別的程式碼的能力。第 11 章完全是關於測試的，即使有 Rust 的安全保證，測試對於確保程式邏輯的正確性仍然是必要的。在第 12 章中，我們將自己實作 `grep` 命令列工具的一部分功能，用來在檔案中搜尋文字。為此，我們將使用前面章節討論過的許多概念。

第 13 章探討了 closures 和 iterators：這些是源自函數式程式語言的 Rust 特性。在第 14 章中，我們將更深入地研究 Cargo，並討論與他人分享函式庫的最佳實踐。第 15 章討論了標準函式庫提供的 smart pointers 以及啟用其功能的 traits。

在第 16 章中，我們將介紹不同的並行程式設計模型，並討論 Rust 如何幫助您無所畏懼地進行多執行緒程式設計。第 17 章探討 Rust 的慣用語法如何與您可能熟悉的物件導向程式設計原則進行比較。

第 18 章是關於 pattern 和 pattern matching 的參考資料，它們是在 Rust 程式中表達想法的強大方式。第 19 章包含了一系列感興趣的進階主題，包括 unsafe Rust、macros，以及更多關於 lifetimes、traits、型別、函數和 closures 的內容。

在第 20 章中，我們將完成一個專案，在其中我們將實作一個低階的多執行緒 Web 伺服器！

最後，一些附錄以更像參考資料的格式包含了關於語言的有用資訊。附錄 A 涵蓋了 Rust 的關鍵字，附錄 B 涵蓋了 Rust 的運算子和符號，附錄 C 涵蓋了標準函式庫提供的可派生 traits，附錄 D 涵蓋了一些有用的開發工具，附錄 E 解釋了 Rust 的版本（editions）。

閱讀本書沒有錯誤的方式：如果您想跳著看，就跳吧！如果您感到困惑，可能需要跳回前面的章節。但請選擇最適合您的方式。

學習 Rust 的一個重要過程是學習如何閱讀編譯器顯示的錯誤訊息：這些訊息將引導您寫出能正常運作的程式碼。因此，我們將提供許多無法編譯的範例，以及編譯器在每種情況下會顯示的錯誤訊息。請注意，如果您輸入並執行一個隨機的範例，它可能無法編譯！請務必閱讀周圍的文字，看看您嘗試執行的範例是否本來就會出錯。在大多數情況下，我們會引導您找到任何無法編譯的程式碼的正確版本。

## 資源與如何貢獻本書

本書是開源的。如果您發現錯誤，請毫不猶豫地在 GitHub 上提出 issue 或發送 pull request，網址是
_https://github.com/rust-lang/book/_。更多詳情請參閱 _CONTRIBUTING.md_，網址是
_https://github.com/rust-lang/book/blob/main/CONTRIBUTING.md_。

本書中範例的原始程式碼、勘誤表和其他資訊可在 _https://www.nostarch.com/Rust2021/_ 找到。
